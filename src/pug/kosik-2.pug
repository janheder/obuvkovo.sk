doctype html
include _variables.pug  
html(lang=lang)
    head
        meta(charset="utf-8")
        meta(content="IE=edge" http-equiv="X-UA-Compatible")
        meta(content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1" name="viewport")
        title #{title}
        meta(content="index,follow,snippet,archive" name="robots")
        meta(content=metaDescription name="description")
        meta(content=metaKeywords lang="cs" name="keywords")
        meta(content=metaAuthor name="author")

        link(rel="canonical" href=metaURL)
        meta(property="og:locale" content="cs_CZ")
        meta(property="og:type" content="website")
        meta(property="og:title" content=title)
        meta(property="og:description" content=metaDescription)
        meta(property="og:url" content=metaURL)
        meta(property="og:site_name" content=metaSitename)
        meta(name="twitter:card" content="summary")
        meta(name="twitter:site" content=metaTwitterName)
        meta(name="twitter:title" content=title)
        meta(name="twitter:description" content=metaDescription)
        meta(name="twitter:image" content=metaTwitterImg)
        include _css-include.pug   
    body
        include _nav.pug
        section.page-heading.page-heading--cart
            .container.page-heading--cart__container
                .page-heading--cart__wrap
                    a.page-heading--cart__single.pass(href="#")
                        p.page-heading--cart__title 1. Nákupný košík
                    a.page-heading--cart__single.active(href="#")
                        p.page-heading--cart__title 2. Osobné údaje
                    a.page-heading--cart__single(href="#")
                        p.page-heading--cart__title 3. Súhrn objednávky
                    a.page-heading--cart__single(href="#")
                        p.page-heading--cart__title 4. Dokončenie objednávky

        section.page-heading.page-heading--cart-responsive
            a.page-heading--cart__control(href="#")
                span.caret-icon.left
            p.page-heading--cart__title 2/4 Osobné údaje
            a.page-heading--cart__control(href="#")
                span.caret-icon.right
        .page-heading--cart-responsive-push

        main
            .container
                .row
                    .col-12.col-sm-12.col-md-12.col-lg-9.col-xl-9
                        .form-responsive-error Prosím zadajte svoje osobné údaje alebo sa prihláste.
                        .row
                            .col-12.col-sm-12.col-md-12.col-lg-6.col-xl-6.register-form-col
                                form(method="post" action="" class="register-form" name="register_form" id="register_form")
                                    h3 Objednať bez registrácie
                                    a.register-form-toggler(data-toggle="collapse" href="#register-collapse" aria-expanded="true" aria-controls="register-collapse") Objednať bez registrácie #[span.register-form-toggler__icon]
                                    .collapse.register-form-collapse.show(id="register-collapse")
                                        .form-group
                                            label(for="register_form_name") Meno
                                            input.form-control(type="text" name="register_form_name" id="register_form_name" autocomplete="given-name" required)

                                        .form-group
                                            label(for="register_form_surname") Priezvisko
                                            input.form-control(type="text" name="register_form_surname" id="register_form_surname" autocomplete="family-name" required)

                                        .form-group
                                            label(for="register_form_email") Emailová adresa
                                            input.form-control(type="email" name="register_form_email" id="register_form_email" autocomplete="email" required)

                                        .form-group
                                            label(for="register_form_tel") Telefón
                                            input.form-control(type="tel" name="register_form_tel" id="register_form_tel" autocomplete="tel" required)

                                        .form-group
                                            label(for="register_form_address") Ulica
                                            input.form-control(type="text" name="register_form_address" id="register_form_address" autocomplete="street-address" required)

                                        .form-group
                                            label(for="register_form_descriptive") Číslo popisné
                                            input.form-control(type="text" name="register_form_descriptive" id="register_form_descriptive" autocomplete="descriptive-address" required)

                                        .form-group
                                            label(for="register_form_locality") Mesto
                                            input.form-control(type="text" name="register_form_locality" id="register_form_locality" autocomplete="address-level2" required)

                                        .form-group
                                            label(for="register_form_postal_code") PSČ
                                            input.form-control(type="text" name="register_form_postal_code" id="register_form_postal_code" autocomplete="postal-code"  required)

                                        .form-group
                                            label(for="register_form_country") Štát
                                            select.form-control(type="text" name="register_form_country" id="register_form_country" required)
                                                option(value="sk") Slovensko
                                                option(value="cz") Česká republika
                                                

                                        .register-form-info-collapse-wrap   
                                            .form-group
                                                .form-check
                                                    label.form-check__label.billing-address-toggler
                                                        input.form-check__input(type="checkbox" name="register_form_billing_toggler") 
                                                        | Fakturačná adresa (pri nákupe na firmu)
                                                        span.form-check__box.checkbox

                                            .register-form-billing__wrap 
                                                .form-group
                                                    label(for="register_form_billing_name") Meno a priezvisko #[span.label__muted (nepovinné)]
                                                    input.form-control(type="text" name="register_form_billing_name" id="register_form_billing_name" autocomplete="name")

                                                .form-group
                                                    label(for="register_form_billing_company") Názov firmy
                                                    input.form-control(type="text" name="register_form_billing_company" id="register_form_billing_company" autocomplete="org")

                                                .form-group
                                                    label(for="register_form_billing_ico") IČO
                                                    input.form-control(type="text" name="register_form_billing_ico" id="register_form_billing_ico" autocomplete="ico")

                                                .form-group
                                                    label(for="register_form_billing_dic") DIČ #[span.label__muted (nepovinné)]
                                                    input.form-control(type="text" name="register_form_billing_dic" id="register_form_billing_dic" autocomplete="dic")

                                                .form-group
                                                    label(for="register_form_billing_address") Ulica
                                                    input.form-control(type="text" name="register_form_billing_address" id="register_form_billing_address" autocomplete="street-address")

                                                .form-group
                                                    label(for="register_form_billing_descriptive") Číslo popisné
                                                    input.form-control(type="text" name="register_form_billing_descriptive" id="register_form_billing_descriptive" autocomplete="descriptive-address")

                                                .form-group
                                                    label(for="register_form_billing_locality") Mesto
                                                    input.form-control(type="text" name="register_form_billing_locality" id="register_form_billing_locality" autocomplete="address-level2")

                                                .form-group
                                                    label(for="register_form_billing_postal_code") PSČ
                                                    input.form-control(type="text" name="register_form_billing_postal_code" id="register_form_billing_postal_code" autocomplete="postal-code")

                                                .form-group
                                                    label(for="register_form_billing_postal_country") Štát
                                                    select.form-control(type="text" name="register_form_billing_postal_country" id="register_form_billing_postal_country")
                                                        option(value="sk") Slovensko
                                                        option(value="cz") Česká republika
                                                        

                                            .form-group
                                                .form-check
                                                    label.form-check__label.shipping-address-toggler
                                                        input.form-check__input(type="checkbox" name="register_form_shipping_toggler")
                                                        | Iná dodacia adresa 
                                                        span.form-check__box.checkbox 

                                            .register-form-shipping__wrap 
                                                .form-group
                                                    label(for="register_form_shipping_name") Meno a priezvisko
                                                    input.form-control(type="text" name="register_form_shipping_name" id="register_form_shipping_name" autocomplete="name")

                                                .form-group
                                                    label(for="register_form_shipping_company") Názov firmy #[span.label__muted (nepovinné)]
                                                    input.form-control(type="text" name="register_form_shipping_company" id="register_form_shipping_company"  autocomplete="org")

                                                .form-group
                                                    label(for="register_form_shipping_address") Ulica
                                                    input.form-control(type="text" name="register_form_shipping_address" id="register_form_shipping_address" autocomplete="street-address")

                                                .form-group
                                                    label(for="register_form_shipping_descriptive") Číslo popisné
                                                    input.form-control(type="text" name="register_form_shipping_descriptive" id="register_form_shipping_descriptive" autocomplete="descriptive-address")

                                                .form-group
                                                    label(for="register_form_shipping_locality") Mesto
                                                    input.form-control(type="text" name="register_form_shipping_locality" id="register_form_shipping_locality" autocomplete="address-level2")

                                                .form-group
                                                    label(for="register_form_shipping_postal_code") PSČ
                                                    input.form-control(type="text" name="register_form_shipping_postal_code" id="register_form_shipping_postal_code" autocomplete="postal-code")
                                                
                                                .form-group
                                                    label(for="register_form_shipping_country") Štát
                                                    select.form-control(type="text" name="register_form_shipping_country" id="register_form_shipping_country")
                                                        option(value="sk") Slovensko
                                                        option(value="cz") Česká republika
                                                        

                                            .form-group
                                                .form-check
                                                    label.form-check__label.cart-register-toggler
                                                        input.form-check__input(type="checkbox" name="register_form_register_toggler")
                                                        | Mám záujem o vytvorenie účtu
                                                        span.form-check__box.checkbox

                                            .register-form-register__wrap
                                                .form-group
                                                    label(for="register_form_register_username") Uživatelské meno
                                                    input.form-control(type="text" name="register_form_register_username" id="register_form_register_username" autocomplete="off")
                                                .form-group
                                                    label(for="register_form_register_password") Heslo
                                                    span(id="show_password_toggler" data-toggle="tooltip" data-placement="top" title="Zobrazit/Skrýt heslo") #[span.fa.fa-eye]
                                                    input.form-control(type="password" name="register_form_register_password" id="register_form_register_password" autocomplete="off")

                                        .form-group
                                            .form-check
                                                label.form-check__label
                                                    input.form-check__input(type="checkbox" name="register_form_email_marketing")
                                                    | Zasielať novinky a propagačné materiály na email
                                                    span.form-check__box.checkbox

                                        .form-group
                                            .form-check
                                                label.form-check__label
                                                    input.form-check__input(type="checkbox" name="register_form_terms")
                                                    | Súhlasím so spracovaním osobných údajov
                                                    span.form-check__box.checkbox

                                        button.d-none(type="submit" id="register_form_submit") Súhrn objednávky


                            .col-12.col-sm-12.col-md-12.col-lg-6.col-xl-6.login-form-col
                                form(method="post" action="" class="login-form" name="login_form")
                                    h3 Prihlásiť sa k existujúcemu účtu
                                    a.login-form-toggler(data-toggle="collapse" href="#login-collapse" aria-expanded="false" aria-controls="login-collapse") Prihlásiť sa k existujúcemu účtu #[span.register-form-toggler__icon]
                                    .collapse.login-form-collapse(id="login-collapse")
                                        .form-group
                                            label(for="login_form_username") Uživatelské meno
                                            input.form-control(type="text" name="login_form_username" id="login_form_username" required)

                                        .form-group
                                            label(for="login_form_password") Heslo
                                            input.form-control(type="password" name="login_form_password" id="login_form_password" required)

                                        .form-group
                                            button.form-control.btn(type="submit" name="login_form_submit" id="login_form_submit") Prihlásiť sa

                                        a.form-link__forgotten-pass(href="#") Zabudnuté heslo?

                            
                            script.
                                function responsive_check(){
                                    if($(".register-form-toggler").attr("aria-expanded") === "false"){
                                        $(".form-responsive-error").fadeIn(200);
                                    }else{
                                        $("#register_form_submit").trigger("click");
                                    }
                                }

                    .col-12.col-sm-12.col-md-12.col-lg-3.col-xl-3
                        .cart-sidebar.sticky-top
                            h3 Súhrn objednávky
                            .cart-sidebar-item-single
                                .cart-sidebar-item-single-img
                                    img.lazy(src=URLbase+"img/placeholder-200x200.png" data-src=URLbase+"img/product-thumb-small.jpg")
                                .cart-sidebar-item-single-desc-wrap
                                    .cart-sidebar-item-single-name
                                        p #{ProductName}
                                    .cart-sidebar-item-single-qty 
                                        p Počet kusov: 2
                                    .cart-sidebar-item-single-price-wrap
                                        .cart-sidebar-item-single-stock Skladom
                                        .cart-sidebar-item-single-price 59 €
                            .cart-sidebar-item-single
                                .cart-sidebar-item-single-img
                                    img.lazy(src=URLbase+"img/placeholder-200x200.png" data-src=URLbase+"img/product-thumb-small.jpg")
                                .cart-sidebar-item-single-desc-wrap
                                    .cart-sidebar-item-single-name
                                        p #{ProductName}
                                    .cart-sidebar-item-single-qty 
                                        p Počet kusov: 2
                                    .cart-sidebar-item-single-price-wrap
                                        .cart-sidebar-item-single-stock Skladom
                                        .cart-sidebar-item-single-price 59 €
                            .cart-sidebar-item-single
                                .cart-sidebar-item-single-img
                                    img.lazy(src=URLbase+"img/placeholder-200x200.png" data-src=URLbase+"img/product-thumb-small.jpg")
                                .cart-sidebar-item-single-desc-wrap
                                    .cart-sidebar-item-single-name
                                        p #{ProductName}
                                    .cart-sidebar-item-single-qty 
                                        p Počet kusov: 2
                                    .cart-sidebar-item-single-price-wrap
                                        .cart-sidebar-item-single-stock Skladom
                                        .cart-sidebar-item-single-price 59 €

                            .cart-sidebar-price-sort
                                .cart-sidebar-price-sort-row
                                    p Pošta
                                    span 59 €
                                .cart-sidebar-price-sort-row
                                    p Dobírka
                                    span 59 €                  
                                .cart-sidebar-price-sort-row
                                    p Celková cena s DPH
                                    h4 59 €




                .cart-bottom-btns
                    a.btn.btn-dark(href="#") #[span.btn__icon.arrow-icon.left.white] Krok späť
                    button.btn(onclick="responsive_check()") Súhrn objednávky #[span.btn__icon.arrow-icon.white]
                

            .cart-price-overview-responsive
                .cart-price-overview-responsive__price-wrap
                    p.cart-price-overview-responsive__text Celková cena s DPH
                    h3.cart-price-overview-responsive__price #[span 16 989] Kč
                .cart-price-overview-responsive__btn-wrap
                    button.btn.cart-price-overview-responsive__btn(onclick="responsive_check()") Súhrn objednávky #[span.btn__icon.arrow-icon.white]

        include _footer.pug

        include _js-include.pug

        script.
            $(function() {
                $("form[name='register_form']").validate({
                    errorElement: 'span',
                    rules: {
                        register_form_name:{
                            required: true
                        },
                        register_form_surname:{
                            required: true
                        },
                        register_form_email: {
                            required: true,
                            email: true
                        },
                        register_form_tel: {
                            required: true,
                            minlength: 9
                        },
                        register_form_address: {
                            required: true
                        },
                        register_form_postal_code: {
                            required: true,
                            minlength: 5,
                            maxlength: 6
                        },

                        register_form_billing_name: {
                            required: false,
                            minlength: 1
                        },
                        register_form_billing_company: {
                            required: true,
                            minlength: 1
                        },
                        register_form_billing_ico: {
                            required: true,
                            minlength: 8,
                            maxlength: 8
                        },
                        register_form_billing_dic: {
                            minlength: 1,
                            maxlength: 99
                        },
                        register_form_billing_postal_code: {
                            required: true,
                            minlength: 5,
                            maxlength: 6
                        },

                        register_form_shipping_name: {
                            required: true,
                            minlength: 1
                        },
                        register_form_shipping_company: {
                            required: false,
                            minlength: 1
                        },
                        register_form_shipping_postal_code: {
                            required: true,
                            minlength: 5,
                            maxlength: 6
                        },

                        register_form_register_password: {
                            required: true,
                            minlength: 5
                        },
                        
                        register_form_terms: {
                           required: false
                        }
                        },
                    messages: {
                        //udaje zaklad
                        register_form_name: "Prosím zadajte svoje meno",
                        register_form_surname: "Prosím zadajte svoje priezvisko",
                        register_form_email: "Prosím zadajte platnú emailovú adresu",
                        register_form_tel: {
                            required: "Prosím zadajte svoje telefónne číslo", 
                            minlength: "Telefónne číslo je neplatné, prosím zadajte aspoň 9 znakov"
                        },
                        register_form_address: "Prosím zadajte svoju adresu",
                        register_form_descriptive: "Prosím zadajte číslo popisné",
                        register_form_locality: "Prosím zadajte mesto",
                        register_form_postal_code: {
                            required: "Prosím zadajte Poštové smerovacie číslo", 
                            minlength: "Nesprávne zadané PSČ, zadajte ho prosím v tvare s medzerou (napr. 102 00) alebo bez (napr. 10200)", 
                            maxlength: "Nesprávne zadané PSČ, zadajte ho prosím v tvare s medzerou (napr. 102 00) alebo bez (napr. 10200)"
                        },
                        //fakturacni
                        register_form_billing_company: {
                            required: "Prosím zadajte meno firmy", 
                        },
                        register_form_billing_ico: { 
                            required: "Prosím zadajte Osobné identifikačné číslo",
                            minlength: "Prosím zadajte IČO v správnom tvare - 8 číslic (napr. 25596641)",
                            maxlength: "Prosím zadajte IČO v správnom tvare - 8 číslic (napr. 25596641)"
                        },
                        register_form_billing_dic: { 
                            minlength: "Prosím zadajte DIČ v správnom tvare - minimálne 8 číslic (napr. CZ12345678)",
                            maxlength: "Prosím zadajte DIČ v správnom tvare - maximálne 10 číslic (napr. CZ1234567890)"
                        },
                        register_form_billing_address: "Prosím zadajte svoju adresu",
                        register_form_billing_descriptive: "Prosím zadajte číslo popisné",
                        register_form_billing_locality: "Prosím zadajte mesto",
                        register_form_billing_postal_code: {
                            required: "Prosím zadajte Poštové smerovacie číslo", 
                            minlength: "Nesprávne zadané PSČ, zadajte ho prosím v tvare s medzerou (napr. 102 00) alebo bez (napr. 10200)", 
                            maxlength: "Nesprávne zadané PSČ, zadajte ho prosím v tvare s medzerou (napr. 102 00) alebo bez (napr. 10200)"
                        },

                        //dodaci
                        register_form_shipping_name: {
                            required: "Prosím zadajte celé meno a priezvisko",
                        },
                        register_form_shipping_address: "Prosím zadajte svoju adresu",
                        register_form_shipping_descriptive: "Prosím zadajte číslo popisné",
                        register_form_shipping_locality: "Prosím zadajte mesto",
                        register_form_shipping_postal_code: {
                            required: "Prosím zadajte Poštové smerovacie číslo", 
                            minlength: "Nesprávne zadané PSČ, zadajte ho prosím v tvare s medzerou (napr. 102 00) alebo bez (napr. 10200)", 
                            maxlength: "Nesprávne zadané PSČ, zadajte ho prosím v tvare s medzerou (napr. 102 00) alebo bez (napr. 10200)"
                        },

                        //registrace kosik
                        register_form_register_username: "Prosím vyberte si používateľské meno",
                        register_form_register_password: {
                            required: "Prosím zadajte heslo", 
                            minlength: "Prosím zadajte heslo aspoň 5 znakov dlhé"
                        },
                        //osobni udaje
                        register_form_terms: "Musíte súhlasiť so spracovaním osobných údajov"
                    },
                    submitHandler: function(form) {
                    form.submit();
                    }
                });
            });
            jQuery.extend(jQuery.validator.messages, {
                required: "Toto pole je povinné"
            });